<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Aufma√ü-Profi iOS</title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
</head>
<body>
    <div id="app-container">
        
        <div id="input-view">
            <header>
                <h1>Aufma√ü</h1>
            </header>
            <main>
                <section class="ios-group">
                    <div class="ios-row">
                        <label>Projekt</label>
                        <input type="text" id="projektName" placeholder="M√ºller OG">
                    </div>
                    <div class="ios-row">
                        <label>Position</label>
                        <input type="text" id="position" placeholder="z.B. Pos. 01 / K√ºche">
                    </div>
                </section>

                <section class="ios-group">
                    <div class="ios-row two-col">
                        <input type="number" id="breite" placeholder="Breite mm" inputmode="numeric">
                        <input type="number" id="hoehe" placeholder="H√∂he mm" inputmode="numeric">
                    </div>
                    <div class="ios-row">
                        <select id="elemTyp" onchange="toggleUI()">
                            <option value="1">1-flg. Fenster</option>
                            <option value="2">2-flg. Stulp-Fenster</option>
                            <option value="BT">Balkont√ºr</option>
                        </select>
                    </div>
                </section>

                <section class="ios-group">
                    <div class="ios-row">
                        <label>Glas</label>
                        <select id="glasTyp">
                            <option value="2-fach">2-fach Standard</option>
                            <option value="3-fach">3-fach Premium</option>
                            <option value="VSG">Sicherheitsglas</option>
                        </select>
                    </div>
                    <div class="ios-row">
                        <label>Rollladen</label>
                        <select id="rollloTyp" onchange="toggleUI()">
                            <option value="NEIN">Kein</option>
                            <option value="ELEKTRO">Elektro</option>
                        </select>
                    </div>
                </section>

                <section class="ios-group">
                    <div class="ios-row">
                        <label for="fotoInput" class="camera-btn">üì∑ Foto hinzuf√ºgen</label>
                        <input type="file" id="fotoInput" accept="image/*" capture="environment" onchange="previewFoto(this)">
                    </div>
                </section>

                <button class="ios-btn-primary" onclick="generatePreview()">Vorschau anzeigen</button>
            </main>
        </div>

        <div id="preview-view" style="display:none;">
            <header class="no-print">
                <button class="back-btn" onclick="editMode()">‚Üê Bearbeiten</button>
                <h1>Vorschau</h1>
            </header>
            <main>
                <div class="paper-page">
                    <div class="pdf-header">
                        <div>
                            <h2 id="pdfTitel">Projektname</h2>
                            <p id="pdfPos" style="font-weight: bold; color: var(--ios-blue);"></p>
                        </div>
                        <div id="pdfDatum" style="text-align: right; font-size: 12px;"></div>
                    </div>
                    
                    <div id="svgWrapper"></div>

                    <div class="tech-specs">
                        <h3>Technische Details</h3>
                        <div id="infoGrid" class="info-grid"></div>
                    </div>

                    <div id="fotoInPdf" class="foto-container">
                        <h3>Baustellensituation</h3>
                        <img id="pdfImg" src="">
                    </div>
                </div>
                <button class="ios-btn-secondary no-print" onclick="window.print()">Als PDF speichern / Senden</button>
            </main>
        </div>

    </div>
    <script src="script.js"></script>
</body>
</html>